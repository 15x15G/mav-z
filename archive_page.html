<!DOCTYPE html>
<html>

<head>
    <title>Mastodon Archive</title>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <link rel="stylesheet" type="text/css" href="./assets/style.css" />     

    <template id="article">
        <article class='status'>
            <div class='status__box'>
                <div class='status__date'><span ></span></div>
                <div class='status__content'></div>
                <div class='status__media'></div>
            </div>
        </article>
    </template>
    <template id="article--CW">
        <article class='status'>
            <div class='status__box'>
                <div class='status__date'><span></span></div>
                <details>
                    <summary class='status__summary'></summary>
                    <div class='status__content'></div>
                    <div class='status__media'></div>
                </details>
            </div>
        </article>
    </template>
    <template id="media-video">
        <video controls muted src='' class='status__media'>
            There should be a video here.
        </video>
    </template>
    <template id="media-image">
        <img class='status__media image' src='' onclick = ''>
    </template>
</head>

<body>
    <button onclick="topFunction()" id="scroll_top_button" title="Go to top">⇧</button>
    <div class="container">
        <section id="overviews">
            发嘟概览：
            <ul>
                <li><p>按顺序加载完 actor.json 和 outbox.json 后这个表格会自动生成统计数据.</p></li>
                <li><p>“显示的嘟文与回复数”指的是在个人主页那里，关注数与关注者数左边的那个数字，它包括转嘟，但不包括私信.</p></li>
                <li><p>一条回复的原嘟文如果被删除（或原嘟主注销帐号导致的其所有嘟文被删除），则这条回复会变为原创. 因此，原创的嘟文可能会有少许增加，而回复的嘟文会相应减少.</p></li>
            </ul>
            <!-- I just put the styles of this table here so that it can be modified easily. -->
            <!-- Really thankful to the excellent tool: https://www.tablesgenerator.com/html_tables# -->
            <style type="text/css">
                .tg  {border-collapse:collapse;border-spacing:0;}
                .tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
                    overflow:hidden;padding:10px 5px;word-break:normal;}
                .tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
                    font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
                .tg .tg-nrix{border-color:#fff1e8;text-align:center;vertical-align:middle}
            </style>
            <table class="tg" style="undefined;table-layout: fixed; width: 469px">
                <colgroup>
                    <col style="width: 81px">
                    <col style="width: 61px">
                    <col style="width: 61px">
                    <col style="width: 61px">
                    <col style="width: 3px">
                    <col style="width: 101px">
                    <col style="width: 101px">
                </colgroup>
                <tbody>
                    <tr>
                        <td class="tg-nrix">发嘟概览</td>
                        <td class="tg-nrix">原创</td>
                        <td class="tg-nrix">回复</td>
                        <td class="tg-nrix">总计</td>
                        <td class="tg-nrix" rowspan="6"></td>
                        <td class="tg-nrix">不含私信总计</td>
                        <td class="tg-nrix">转嘟总计</td>
                    </tr>
                    <tr>
                        <td class="tg-nrix">公开</td>
                        <td class="tg-nrix"><span id="overviews_public_original"></span></td>
                        <td class="tg-nrix"><span id="overviews_public_reply"></span></td>
                        <td class="tg-nrix"><span id="overviews_public"></span></td>
                        <td class="tg-nrix" rowspan="3"><span id="overviews_total_without_direct"></span></td>
                        <td class="tg-nrix" rowspan="3"><span id="overviews_boost"></span<br></td>
                    </tr>
                    <tr>
                        <td class="tg-nrix">不公开</td>
                        <td class="tg-nrix"><span id="overviews_unlisted_original"></span></td>
                        <td class="tg-nrix"><span id="overviews_unlisted_reply"></span></td>
                        <td class="tg-nrix"><span id="overviews_unlisted"></span></td>
                    </tr>
                    <tr>
                        <td class="tg-nrix">仅关注者</td>
                        <td class="tg-nrix"><span id="overviews_followers-only_original"></span></td>
                        <td class="tg-nrix"><span id="overviews_followers-only_reply"></span></td>
                        <td class="tg-nrix"><span id="overviews_followers-only"></span></td>
                    </tr>
                    <tr>
                        <td class="tg-nrix">私信</td>
                        <td class="tg-nrix"><span id="overviews_direct_original"></span></td>
                        <td class="tg-nrix"><span id="overviews_direct_reply"></span></td>
                        <td class="tg-nrix"><span id="overviews_direct"></span></td>
                        <td class="tg-nrix" colspan="2" rowspan="2">显示的嘟文与回复数：<span id="overviews_display"></span></td>
                    </tr>
                    <tr>
                        <td class="tg-nrix">总计</td>
                        <td class="tg-nrix"><span id="overviews_original"></span></td>
                        <td class="tg-nrix"><span id="overviews_reply"></span></td>
                        <td class="tg-nrix"><span id="overviews_total"></span></td>
                    </tr>
                </tbody>
            </table>
        </section>
        <section id="loading">
            <div id="div-import-prompt">
                <p>
                    Select <b>actor.json</b> and <b>outbox.json</b> in the archive folder.
                </p>
                <div>
                    <label id="actor-input">
                        actor.json
                        <input accept="application/json" id="actor-file-input" type="file" style="display:none">
                    </label>
                    <label id="outbox-input">
                        outbox.json
                        <input accept="application/json" id="outbox-file-input" type="file" style="display:none">
                    </label>
                    <label>
                        From
                        <input id="date-input-from" type="date" onchange="save_date_from(event);"/>
                        To
                        <input id="date-input-to" type="date" onchange="save_date_to(event);"/>
                    </label>
                </div>
            </div>
        </section>
    </div>
    <div class="container">
        <section id="header">
            <div class="public-account-header">
                <div class="public-account-header__image" id="public-account-header__image">
                </div>
                <div class="public-account-header__bar" id="public-account-header__bar">
                </div>
                <div class="account__header__tabs__name" id="account__header__tabs__name">
                </div>
                <div class="account__header__extra">
                    <div class="account__header__bio">
                        <div class="account__header__fields" id="account__header__fields">
                        </div>
                        <div class="account__header__content" id="account__header__content">
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="grid">
            <div class="column-0">
                <div class="account__section-headline" id="account__section-headline">
                </div>
                <main id="articles">
                </main>
            </div>
            <div class="column-1">
                <div class="archive__section" id="archive__section">
                </div>
            </div>
        </section>
    </div>
    </div>

    <!-- The Modal -->
    <div id="myModal" class="modal">
	    <!-- The Close Button -->
	    <span id="close" class="close" onclick = "clickcloseimg()">&times;</span>
	    <!-- Modal Content (The Image) -->
	    <img class="modal-content" id="img01">
	    <!-- Modal Caption (Image Text) -->
	    <div id="caption"></div>
	</div>

    <script type="text/javascript" src="./assets/main.js"></script>
</body>

</html>
